max_positives: -1
max_negatives: 0
max_hard_negatives: 3
in_batch_positives_augmentation: False
contexts_path: "data/aida_dpr_normalized/definitions.txt"

datamodule:
  _target_: data.pl_data_modules.PLDataModule
  tokenizer: ${model.language_model}
  datasets:
    train:
      _target_: data.datasets.DPRDataset
      name: 'train'
      split_contexts: True
      max_positives: ${data.max_positives}
      max_negatives: ${data.max_negatives}
      max_hard_negatives: ${data.max_hard_negatives}
      in_batch_positives_augmentation: ${data.in_batch_positives_augmentation}
      path:
        - 'data/aida_dpr_normalized/train.json'

    val:
      - _target_: data.datasets.DPRDataset
        name: 'val'
        split_contexts: True
        max_positives: ${data.max_positives}
        max_negatives: ${data.max_negatives}
        max_hard_negatives: ${data.max_hard_negatives}
        in_batch_positives_augmentation: ${data.in_batch_positives_augmentation}
        contexts_path: ${data.contexts_path}
        path:
          - 'data/aida_dpr_normalized/val.json'

    test:
      - _target_: data.datasets.DPRDataset
        name: 'test'
        split_contexts: True
        max_positives: ${data.max_positives}
        max_negatives: ${data.max_negatives}
        max_hard_negatives: ${data.max_hard_negatives}
        in_batch_positives_augmentation: ${data.in_batch_positives_augmentation}
        contexts_path: ${data.contexts_path}
        path:
          - 'data/aida_dpr_normalized/test.json'

  batch_sizes:
    train: 64
    val: 64
    test: 64

  num_workers:
    train: 4
    val: 4
    test: 4
