# Required to make the "experiments" dir the default one for the output of the models
hydra:
  run:
    dir: ./experiments/${model_name}/${now:%Y-%m-%d}/${now:%H-%M-%S}

model_name: ${model.language_model}  # used to name the model in wandb
project_name: golden-retriever-nyt  # used to name the project in wandb

data_overrides:
  contexts_path: "data/dpr-like/srl/propbank_definitions.roles.txt"
  train_path:
    - 'data/dpr-like/nyt/train.json'
  val_path:
    - 'data/dpr-like/nyt/dev.json'
  test_path:
    - 'data/dpr-like/nyt/test.json'

defaults:
  - _self_
  - train: nyt_train
  - model: golden_retriever
  - loss: nll_loss
  - optimizer: adamw
  - scheduler: linear_scheduler_with_warmup
  - data: in_batch_negatives
  - evaluation: default_evaluation
  - logging: wandb_logging
  - override hydra/job_logging: colorlog
  - override hydra/hydra_logging: colorlog

# we use the NLL loss here
data.datamodule.train.in_batch_positives_augmentation: False
data.datamodule.dev.in_batch_positives_augmentation: False
data.datamodule.test.in_batch_positives_augmentation: False